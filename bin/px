#!/usr/bin/env python2
"""
Evaluate a python expression: Mostly a simple calculator.
"""

from __future__ import division

import sys
from math import * # pylint: disable=redefined-builtin

def main():
    try:
        _expr = " ".join(sys.argv[1:]).strip()
    except IndexError:
        print 'Usage: px [python expression]'
        sys.exit(1)

    if _expr:
        _x = eval(_expr) # pylint: disable=eval-used
        print _x
    else:
        try:
            from IPython import start_ipython
            start_ipython()

        except ImportError:
            import code
            import readline
            import rlcompleter # pylint: disable=unused-variable

            readline.parse_and_bind("tab: complete")
            code.interact()

if __name__ == '__main__':
    main()
