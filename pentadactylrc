" colorscheme molokai

set hintkeys=asdfg;lkjhertyui
set! browser.tabs.closeWindowWithLastTab=false

nmap -b j 3j
nmap -b k 3k

nmap -b ,m :open gmail.com<CR>
nmap -b ,n :open slashdot.org | news.ycombinator.com | telegraphindia.com<CR>
nmap -b ,b :open lifehacker.com | boingboing.net<CR>
nmap -b ,s :open facebook.com | twitter.com | reddit.com<CR>

nmap -b ,gh :open github.com<CR>
nmap -b ,gs :open scholar.google.com<CR>
nmap -b ,ma :open academic.research.microsoft.com<CR>

nmap -b ,c1 :open dilbert.com/fast | xkcd.com | phdcomics.com/comics.php<CR>
nmap -b ,c2 :open gocomics.com/calvinandhobbes | gocomics.com/garfield | gocomics.com/broomhilda | gocomics.com/bc | gocomics.com/wizardofid<CR>
nmap -b ,c3 :open arcamax.com/thefunnies/hagarthehorrible | arcamax.com/thefunnies/beetlebailey | arcamax.com/thefunnies/peanuts<CR>

nmap -b ,pgdoc :open file:///usr/share/doc/postgresql/html/index.html<CR>
nmap -b ,pydoc :open file:///usr/share/doc/python2/html/index.html<CR>
nmap -b ,py3doc :open file:///usr/share/doc/python/html/index.html<CR>
nmap -b ,phpdoc :open file:///usr/share/doc/php/php-chunked-xhtml/index.html<CR>
nmap -b ,sqldoc :open file:///usr/share/doc/sqlite/index.html<CR>

nmap -b ,cw :open cnerg.iitkgp.ac.in/wiki/Projects<CR>
nmap -b ,mw :open wiki.mpi-sws.org/projects/FrontPage<CR>

nmap -b ,zz :set guioptions+=mT<CR>:extdisable Pentadactyl<CR>

" I like to store all my bookmarks into a simple text file which can put
" under version control and sync across systems and can also look at it and
" clean it up as a regular text file. Following pieces of code does the job.

" Define the javascript function to actually do the writing to bookmark file.
" FIXME: The bookmark file location is hardcoded.
javascript <<EOF
dactyl.my_bmark = function(url, title) {
    var bmark_file = "~/quickrefs/bookmarks.yaml";
    var ofile = File(bmark_file);
    ofile.write("-\n  title: >\n    " + title + "\n  url: >\n    " + url + "\n  tags:\n  note:\n\n", ">>")
};
EOF

" Define a command that calls the above function.
command -javascript -nargs=+ xbmark dactyl.my_bmark(args[0], args[1])

" Define a mapping that creates the command line args for the command.
nmap ,a :js CommandExMode().open(
    \ commands.commandToString({ command: "xbmark", options: [],
    \ arguments: [buffer.win.location.href, buffer.win.document.title] }));<CR>

" Remove the regular bookmarking shortcut.
nmap -b a <nop>
